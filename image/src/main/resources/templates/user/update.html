<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<!-- head.html -->
<th:block th:replace="layout/head::headFragment"></th:block>

<!-- layout/header.html -->
<header th:replace="layout/header::headerFragment"></header>

<!-- content -->
<section class="page-section portfolio">
    <div class="container">
        <div style="font-weight: bold; font-size: 40px;">공개 프로필</div>
        <span style="font-weight: 500; font-size: 23px;">회원님의 프로필을 방문하는 사용자에게 다음 정보가 표시됩니다.</span>
        <div style="margin-bottom: 3rem;"></div>

        <form th:action="@{/user/update}" method="post" name="form" modelAttribute="updateRequestDto" enctype="multipart/form-data" accept-charset="UTF-8" style="margin-bottom: 1rem;">
            <input type="hidden" name="_method" value="put"/>
            <div class="profile-contents">
                <div class="upload-box" style="display: block;">
                    <span class="profile-text">프로필 사진</span>
                    <div id="drop-file" class="drag-file" style="margin-bottom: 1.5rem;">
                        <img th:src="@{/profile_imgs/} + ${user.profileImageUrl}" onerror="this.src='/img/default_profile.png';" class="image" id="basic_img"/>
                        <img src="" alt="미리보기 이미지" class="preview">
                    </div>
                    <label class="file-label" for="chooseFile" style="margin: 0rem 0rem 3rem 1.5rem; width: 10%; background-color: #5DC8CD;">이미지 선택</label>
                    <input class="file" id="chooseFile" type="file" name="file" multiple="multiple" onchange="dropFile.handleFiles(this.files)" accept="image/png, image/jpeg, image/gif">

                    <div class="profile-text">닉네임</div>
                    <div style="margin-bottom: 1.5rem;">
                        <input class="profile-input" name="nickName" th:value="${user.nickName}"/>
                        <span style="color: red; font-size: 18px;" th:text="${valid_nickName}"></span>
                    </div>

                    <div class="profile-text">소개말</div>
                    <div style="margin-bottom: 1.5rem;">
                        <textarea class="form-control" name="intro" th:text="${user.intro}" placeholder="자신을 소개해보세요."
                                  style="height: 110px; background-color: rgb(233, 233, 233); width: 50%; font-size: 23px; border-radius: 15px;"></textarea>
                        <span style="color: red; font-size: 18px;" th:text="${valid_intro}"></span>
                    </div>

                    <button type="submit" id="submit" class="button btnPush btnLightBlue" style="margin: 1rem 3rem 0rem 0rem;">수정</button>
                </div>
            </div>
        </form>
        <a th:href="@{/user/profile}">
            <button class="button btnPush btnBlueGreen" style="margin: 1rem 3rem 0rem 0rem;">취소</button>
        </a>
    </div>
</section>

<script type="text/javascript" th:src="@{/js/feedCreate.js}"></script>
<!-- layout/footer.html -->
<footer th:replace="layout/footer::footerFragment"></footer>
