<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<th:block th:fragment="admin_headerFragment">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <a sec:authorize="isAuthenticated()" class="navbar-brand" href="/user">
                <img th:src="@{/img/logo.png}" alt="로고" width="30" height="30" class="d-inline-block align-text-top">
                <span style="color:#ffffff; font-size: 25px;">Image Share</span>
            </a>

            <div class="collapse navbar-collapse" id="navbarResponsive">
                <!--  로그인 상태  -->
                <ul sec:authorize="isAuthenticated()" class="navbar-nav ms-auto">
                    <!--  ADMIN 권한  -->
                    <li sec:authorize="hasRole('ADMIN')" class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" th:href="@{/admin}">관리자 홈</a></li>

                    <li class="nav-item mx-0 mx-lg-1">
                        <form action="/user/feed/search" method="get" class="d-flex">
                            <div class="search-wrapper" style="margin-right: 3rem;">
                                <div class="input-holder">
                                    <input type="search" name="keyword" class="search-input" placeholder="피드 검색" />
                                    <button class="search-icon" type="submit" onclick="searchToggle(this, event);"><span></span></button>
                                </div>
                                <span class="close" onclick="searchToggle(this, event);"></span>
                            </div>

                        </form>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" th:href="@{/user/new/feed}"><img th:src="@{/img/plus.png}" alt="피드생성" width="30" height="30" class="d-inline-block align-text-top"></a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#"><img th:src="@{/img/bell.png}" alt="알림" width="30" height="30" class="d-inline-block align-text-top"></a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" th:href="@{/user/profile}"><img th:src="@{/profile_imgs/} + ${#authentication.getPrincipal().getUser().getProfileImageUrl}" onerror="this.src='/img/default_profile.png';" width="30" height="30" style="border-radius: 100%"></a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" th:href="@{/auth/logout}">로그아웃</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!--  navbar end  -->


</th:block>
</html>